(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{19:function(s,e,t){var a=t(198);"string"==typeof a&&(a=[[s.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t(4)(a,i);a.locals&&(s.exports=a.locals)},197:function(s,e,t){"use strict";var a=t(19);t.n(a).a},198:function(s,e,t){(s.exports=t(3)(!1)).push([s.i,"\n.message-history {\n    overflow: scroll;\n    height: 800px;\n}\n.messages {\n    overflow: scroll;\n    height: 400px;\n}\n",""])},266:function(s,e,t){"use strict";t.r(e);var a={data:function(){return{sessions:{},messages:[],message:""}},methods:{getUser:function(){var s=this;axios.get("api/userList").then((function(e){var t=e.data;return s.sessions=t}))},selectUser:function(s){var e=this;axios.get("api/userMessage/"+s).then((function(s){var t=s.data;return e.messages=t}))},sendMessage:function(s){var e=this;""!=this.message&&(axios.post("/api/sendmessage",{message:this.message,user_id:this.messages.session.user.id,session_id:this.messages.session.id}).then((function(s){e.selectUser(e.messages.session.id)})),this.message="")}},created:function(){var s=this;this.getUser(),Echo.private("chat.".concat(authuser.id)).listen("MessageSend",(function(e){s.selectUser(e.message.session_id)}))},mounted:function(){}},i=(t(197),t(2)),n=Object(i.a)(a,(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"main-content-area clearfix"},[s.$gate.isAuth()?t("div",[t("div",[s._m(0),s._v(" "),t("section",{staticClass:"section-padding no-top gray"},[t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 col-xs-12 col-sm-12 "},[t("div",{staticClass:"message-body"},[t("div",{staticClass:"col-md-4 col-sm-5 col-xs-12"},[t("div",{staticClass:"message-inbox"},[s._m(1),s._v(" "),t("ul",{staticClass:"message-history"},s._l(s.sessions,(function(e){return t("li",{key:e.id,staticClass:"message-grid",on:{click:function(t){return t.preventDefault(),s.selectUser(e.id)}}},[t("a",{attrs:{href:"#"}},[t("div",{staticClass:"image"},[t("img",{attrs:{src:"/uploads/avatar/"+e.user.avatar,alt:""}})]),s._v(" "),t("div",{staticClass:"user-name"},[t("div",{staticClass:"author"},[t("span",[s._v(s._s(e.user.name))]),s._v(" "),t("div",{staticClass:"user-status"})]),s._v(" "),t("p",[s._v(s._s(e.product.title))]),s._v(" "),s._m(2,!0)])])])})),0)])]),s._v(" "),t("div",{staticClass:"col-md-8 clearfix col-sm-5 col-xs-12 message-content"},[t("div",{staticClass:"message-details"},[s.messages.session?t("div",{staticClass:"author"},[t("div",{staticClass:"image"},[t("img",{attrs:{src:"/uploads/avatar/"+s.messages.session.user.avatar,alt:""}})]),s._v(" "),t("span",{staticClass:"author-name"},[s._v(s._s(s.messages.session.user.name))]),s._v(" "),t("em",[s._v(s._s(s._f("myDay")(s.messages.session.user.created_at)))])]):s._e(),s._v(" "),t("h2",[s.messages.session?t("a",{attrs:{href:"#"}},[s._v(s._s(s.messages.session.product.title))]):s._e()]),s._v(" "),t("h2",[s.messages.session?s._e():t("a",{attrs:{href:"#"}},[s._v("Select A conversation")])]),s._v(" "),s.messages.session?t("div",{staticClass:"alert alert-success alert-dismissible alert-outline",attrs:{role:"alert"}},[t("strong",[s._v("Message ")]),s._v(" - "+s._s(s.messages.session.message)+"\n                                ")]):s._e(),s._v(" "),t("ul",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll"}],staticClass:"messages"},s._l(s.messages.messages,(function(e){return t("li",{key:e.id,class:"clearfix  "+(e.user.id==s.messages.session.user.id?"friend-message":"my-message")},[t("figure",{staticClass:"profile-picture"},[t("img",{staticClass:"img-circle",attrs:{src:"/uploads/avatar/"+e.user.avatar,alt:"Profile Pic"}})]),s._v(" "),t("div",{staticClass:"message"},[s._v("\n                                       "+s._s(e.message)+"\n                                        "),t("div",{staticClass:"time"},[t("i",{staticClass:"fa fa-clock-o"}),s._v(" "+s._s(s._f("myDay")(e.created_at)))])])])})),0),s._v(" "),t("div",{staticClass:"chat-form "},[t("div",{staticClass:"form-group"},[s.messages.session?t("input",{directives:[{name:"model",rawName:"v-model",value:s.message,expression:"message"}],staticClass:"form-control",staticStyle:{width:"100%"},attrs:{name:"message",placeholder:"Type a message here...",type:"text"},domProps:{value:s.message},on:{keyup:function(e){return!e.type.indexOf("key")&&s._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.sendMessage(e)},input:function(e){e.target.composing||(s.message=e.target.value)}}}):t("input",{staticClass:"form-control",staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"Type a message here...",type:"text"}})]),s._v(" "),s.messages.session?t("button",{staticClass:"btn btn-theme",on:{click:s.sendMessage}},[s._v("Send")]):t("button",{staticClass:"btn btn-theme",attrs:{disabled:""}},[s._v("Send")])])])])])])])])])])]):s._e(),s._v(" "),s.$gate.isAuth()?s._e():t("div",[s._v("\n        not load\n    ")])])}),[function(){var s=this.$createElement,e=this._self._c||s;return e("div",{staticClass:"page-header-area-2 gray"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[e("div",{staticClass:"small-breadcrumb"},[e("div",{staticClass:"header-page"},[e("h1",[this._v("Messenger")])])])])])])])},function(){var s=this.$createElement,e=this._self._c||s;return e("div",{staticClass:"message-header"},[e("h4",[this._v("Inbox")])])},function(){var s=this.$createElement,e=this._self._c||s;return e("div",{staticClass:"time"},[e("span",[e("i",{staticClass:"icon-envelope"})])])}],!1,null,null,null);e.default=n.exports}}]);
//# sourceMappingURL=9.js.map