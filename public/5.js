(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{12:function(t,a,e){var s=e(180);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};e(4)(s,i);s.locals&&(t.exports=s.locals)},179:function(t,a,e){"use strict";var s=e(12);e.n(s).a},180:function(t,a,e){(t.exports=e(3)(!1)).push([t.i,"\n.btn-media\n{\n    margin: 10px;\n}\n.card-media\n{\n    border: 1px solid #b7b4b4;\n    padding: 5px;\n    margin: 9px;\n}\n",""])},243:function(t,a,e){"use strict";e.r(a);var s={data:function(){return{medias:{},attachments:[],form2:new FormData}},methods:{getResults:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;axios.get("/api/media?page="+a).then((function(a){t.medias=a.data}))},fieldChange:function(t){var a=t.target.files;if(!a.length)return!1;for(var e=0;e<a.length;e++)this.attachments.push(a[e])},newModal:function(){this.attachments.length=0,this.form2.delete("pics[]"),$("#addNew").modal("show")},loadMedia:function(){var t=this;axios.get("/api/media").then((function(a){var e=a.data;return t.medias=e}))},deleteMedia:function(t){Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.value&&axios.delete("/api/media/"+t).then((function(){Fire.$emit("AfterCreate"),Swal.fire("Deleted!","Your file has been deleted.","success")})).catch((function(){Swal.fire("Failed!","Your file has been deleted.","warning")}))}))},uploadFile:function(){for(var t=this,a=0;a<this.attachments.length;a++)this.form2.append("pics[]",this.attachments[a]);this.$Progress.start(),document.getElementById("upload-file").value=[],axios.post("/api/media",this.form2).then((function(a){Fire.$emit("AfterCreate"),$("#addNew").modal("hide"),$("#addNew").removeClass("in"),$(".modal-backdrop").remove(),$("body").removeClass("modal-open"),$("body").css("padding-right",""),$("#addNew").hide(),Toast.fire({icon:"success",title:"Successfully added new Picture to Media"}),t.$Progress.finish()})).catch((function(t){}))}},created:function(){var t=this;this.loadMedia(),Fire.$on("AfterCreate",(function(){t.loadMedia()}))}},i=(e(179),e(2)),n=Object(i.a)(s,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content-wrapper"},[t._m(0),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("h3",{staticClass:"card-title"},[t._v("Media | Galery")]),t._v(" "),e("div",{staticClass:"card-tools"},[e("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:t.newModal}},[e("i",{staticClass:"fas fa-plus"}),t._v(" Add New\n                ")]),t._v(" "),t._m(1)])]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[t._l(t.medias.data,(function(a){return e("div",{key:a.id,staticClass:"col-md-2 col-sm-4 card-media"},[e("a",{attrs:{href:"/uploads/media/"+a.image,"data-toggle":"lightbox","data-title":"Show Image","data-gallery":"gallery"}},[e("img",{staticClass:"img-fluid mb-2",attrs:{src:"/uploads/media/"+a.image,alt:"white sample"}})]),t._v(" "),e("a",{staticClass:"btn btn-danger white-text bg-info btn-sm btn-media",attrs:{href:"/uploads/media/"+a.image,target:"_blank"}},[e("i",{staticClass:"fas fa-link"}),t._v(" Url\n                    ")]),t._v(" "),e("a",{staticClass:"btn btn-danger white-text bg-danger btn-sm btn-media",on:{click:function(e){return t.deleteMedia(a.id)}}},[e("i",{staticClass:"fas fa-trash"}),t._v(" Delete\n                    ")])])})),t._v(" "),e("div",{staticClass:"col-md-12"},[e("pagination",{attrs:{data:t.medias},on:{"pagination-change-page":t.getResults}})],1)],2)])])])])])]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"addNew"}},[e("div",{staticClass:"modal-dialog  modal-lg"},[e("div",{staticClass:"modal-content"},[t._m(2),t._v(" "),e("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.uploadFile()}}},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Upload Files")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{id:"upload-file",type:"file",multiple:""},on:{change:t.fieldChange}})])]),t._v(" "),t._m(3)])])])])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"content-header"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-sm-6"},[a("h1",{staticClass:"m-0 text-dark"},[a("i",{staticClass:"fa fa-anchor",attrs:{"aria-hidden":"true"}}),this._v(" Media")])])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"btn btn-dark",attrs:{type:"button","data-card-widget":"collapse"}},[a("i",{staticClass:"fas fa-minus"})])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[a("i",{staticClass:"fas fa-plus"}),this._v(" Add New Pictures")]),this._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("Ã—")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-footer justify-content-between"},[a("button",{staticClass:"btn  btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")]),this._v(" "),a("button",{staticClass:"btn btn-dark",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-plus"}),this._v(" Add new")])])}],!1,null,null,null);a.default=n.exports}}]);
//# sourceMappingURL=5.js.map