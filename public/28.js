(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{264:function(a,t,s){"use strict";s.r(t);var o={data:function(){return{locations:{},form:new Form({id:"",name:"",number:"",email:"",password:"",avatar:"",location:""})}},methods:{loadLocation:function(){var a=this;axios.get("/api/location").then((function(t){var s=t.data;return a.locations=s}))},getPhotoPicture:function(){return this.form.avatar.length>200?this.form.avatar:"/uploads/avatar/"+this.form.avatar},updateInfo:function(){var a=this;this.$Progress.start(),""==this.form.password&&(this.form.password=void 0),this.form.put("/api/profile/"+this.form.id).then((function(){Swal.fire("Updated!","Your information has been updated.","success"),Fire.$emit("AfterCreate"),a.$Progress.finish()})).catch((function(){a.$Progress.fail()}))},updateProfile:function(a){var t=this,s=a.target.files[0],o=new FileReader;if(s.size>2097152)return Swal.fire("Failed!","You are uploading a large file.","warning"),!1;o.onloadend=function(a){t.form.avatar=o.result},o.readAsDataURL(s)},getUser:function(){var a=this;axios.get("/api/profile").then((function(t){var s=t.data;return a.form.fill(s)}))}},created:function(){var a=this;this.loadLocation(),this.getUser(),Fire.$on("AfterCreate",(function(){a.getUser()}))}},r=s(2),e=Object(r.a)(o,(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"main-content-area clearfix"},[a.$gate.isAuth()?s("section",{staticClass:"section-padding gray"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4 col-xs-12 col-sm-6"},[s("div",{staticClass:"white-bg user-contact-info"},[s("div",{staticClass:"user-info-card"},[s("div",{staticClass:"user-photo col-md-4 col-sm-3  col-xs-4"},[s("img",{staticClass:"img-circle",attrs:{src:a.getPhotoPicture(),alt:""}})]),a._v(" "),s("div",{staticClass:"user-information  col-md-8 col-sm-9 col-xs-8"},[s("span",{staticClass:"user-name"},[s("a",{staticClass:"hover-color",attrs:{href:"#"}},[a._v(a._s(this.form.name))])]),a._v(" "),s("div",{staticClass:"item-date"},[s("span",{staticClass:"ad-pub"},[a._v("Joined At : "+a._s(a._f("myDate")(this.form.created_at)))]),s("br")])]),a._v(" "),s("div",{staticClass:"clearfix"})]),a._v(" "),s("hr"),a._v(" "),s("div",{staticClass:"ad-listing-meta"},[s("ul",[s("li",[a._v("Email Address : "),s("span",{staticClass:"color"},[a._v(a._s(this.form.email))])]),a._v(" "),s("li",[a._v("Phone Number : "),s("span",{staticClass:"color"},[a._v(a._s(this.form.number))])]),a._v(" "),s("li",[a._v("City: "),s("span",{staticClass:"color"},[a._v(a._s(this.form.location))])])])])])]),a._v(" "),s("div",{staticClass:"col-md-8 col-xs-12 col-sm-6"},[s("div",{staticClass:"profile-section margin-bottom-20"},[s("div",{staticClass:"profile-tabs"},[a._m(0),a._v(" "),s("div",{staticClass:"tab-content"},[s("div",{staticClass:"profile-edit tab-pane fade in active",attrs:{id:"edit"}},[s("h2",{staticClass:"heading-md"},[a._v("Manage your Security Settings")]),a._v(" "),s("p",[a._v("Manage Your Account")]),a._v(" "),s("div",{staticClass:"clearfix"}),a._v(" "),s("form",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 col-sm-6 col-xs-12"},[s("label",[a._v("Your Name ")]),a._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:a.form.name,expression:"form.name"}],staticClass:"form-control margin-bottom-20",class:{"is-invalid":a.form.errors.has("name")},attrs:{type:"name",placeholder:"Name"},domProps:{value:a.form.name},on:{input:function(t){t.target.composing||a.$set(a.form,"name",t.target.value)}}}),a._v(" "),s("has-error",{attrs:{form:a.form,field:"name"}})],1),a._v(" "),s("div",{staticClass:"col-md-6 col-sm-6 col-xs-12"},[a._m(1),a._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:a.form.email,expression:"form.email"}],staticClass:"form-control margin-bottom-20",class:{"is-invalid":a.form.errors.has("email")},attrs:{type:"email",placeholder:"email"},domProps:{value:a.form.email},on:{input:function(t){t.target.composing||a.$set(a.form,"email",t.target.value)}}}),a._v(" "),s("has-error",{attrs:{form:a.form,field:"email"}})],1),a._v(" "),s("div",{staticClass:"col-md-12 col-sm-12 col-xs-12"},[a._m(2),a._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:a.form.number,expression:"form.number"}],staticClass:"form-control margin-bottom-20",class:{"is-invalid":a.form.errors.has("number")},attrs:{type:"number",placeholder:"number"},domProps:{value:a.form.number},on:{input:function(t){t.target.composing||a.$set(a.form,"number",t.target.value)}}}),a._v(" "),s("has-error",{attrs:{form:a.form,field:"number"}})],1),a._v(" "),s("div",{staticClass:"col-md-12 col-sm-12 col-xs-12"},[a._m(3),a._v(" "),s("input",{staticClass:"form-control",class:{"is-invalid":a.form.errors.has("avatar")},attrs:{type:"file",id:"avatar",placeholder:"avatar"},on:{change:a.updateProfile}}),a._v(" "),s("has-error",{attrs:{form:a.form,field:"avatar"}})],1),a._v(" "),s("div",{staticClass:"col-md-12 col-sm-12 col-xs-12"},[s("label",[a._v("Location")]),a._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:a.form.location,expression:"form.location"}],staticClass:"form-control",class:{"is-invalid":a.form.errors.has("location")},attrs:{name:"location",placeholder:"Select one"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(a.form,"location",t.target.multiple?s:s[0])}}},[s("option",{attrs:{selected:"",disabled:""}},[a._v("Select one")]),a._v(" "),a._l(a.locations.data,(function(t){return s("option",{key:t.id,domProps:{value:t.name}},[a._v("\n                                       "+a._s(t.name)+"\n                                       ")])}))],2),a._v(" "),s("has-error",{attrs:{form:a.form,field:"location"}})],1),a._v(" "),s("div",{staticClass:"col-md-12 col-sm-12 col-xs-12"},[s("label",[a._v("Password")]),a._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:a.form.password,expression:"form.password"}],staticClass:"form-control",class:{"is-invalid":a.form.errors.has("password")},attrs:{type:"password",id:"password",placeholder:"password"},domProps:{value:a.form.password},on:{input:function(t){t.target.composing||a.$set(a.form,"password",t.target.value)}}}),a._v(" "),s("has-error",{attrs:{form:a.form,field:"password"}})],1),a._v(" "),s("div",{staticClass:"col-md-12 col-sm-12 col-xs-12"},[s("label",[a._v("Confirmation Password ")]),a._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:a.form.password_confirmation,expression:"form.password_confirmation"}],staticClass:"form-control",class:{"is-invalid":a.form.errors.has("password_confirmation")},attrs:{type:"password",placeholder:"password confirmation"},domProps:{value:a.form.password_confirmation},on:{input:function(t){t.target.composing||a.$set(a.form,"password_confirmation",t.target.value)}}}),a._v(" "),s("has-error",{attrs:{form:a.form,field:"password_confirmation"}})],1)]),a._v(" "),s("div",{staticClass:"clearfix"}),a._v(" "),s("div",{staticClass:"row"},[s("br"),a._v(" "),s("div",{staticClass:"col-md-4 col-sm-4 col-xs-12 "},[s("button",{staticClass:"btn btn-theme btn-sm",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),a.updateInfo(t)}}},[a._v("Update My Info")])])])])])])])])])])])]):a._e(),a._v(" "),a.$gate.isAuth()?a._e():s("div",[s("not-found")],1)])}),[function(){var a=this.$createElement,t=this._self._c||a;return t("ul",{staticClass:"nav nav-justified nav-tabs"},[t("li",{staticClass:"active"},[t("a",{attrs:{href:""}},[this._v("Edit Profile")])])])},function(){var a=this.$createElement,t=this._self._c||a;return t("label",[this._v("Email Address "),t("span",{staticClass:"color-red"},[this._v("*")])])},function(){var a=this.$createElement,t=this._self._c||a;return t("label",[this._v("Contact Number "),t("span",{staticClass:"color-red"},[this._v("*")])])},function(){var a=this.$createElement,t=this._self._c||a;return t("label",[this._v("Your Image "),t("span",{staticClass:"color-red"},[this._v("*")])])}],!1,null,null,null);t.default=e.exports}}]);
//# sourceMappingURL=28.js.map